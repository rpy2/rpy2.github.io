
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Vectors and arrays &#8212; rpy2 3.0.0-dev documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.0.0-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="R help" href="rhelp.html" />
    <link rel="prev" title="Object serialization" href="robjects_serialization.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rhelp.html" title="R help"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="robjects_serialization.html" title="Object serialization"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">rpy2 3.0.0-dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="high-level.html" accesskey="U">High-level interface</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-rpy2.robjects.vector"></span><div class="section" id="vectors-and-arrays">
<h1>Vectors and arrays<a class="headerlink" href="#vectors-and-arrays" title="Permalink to this headline">¶</a></h1>
<p>Beside functions and environments, most of the objects
an R user is interacting with are vector-like.
For example, this means that any scalar is in fact a vector
of length one.</p>
<p>The class <code class="xref py py-class docutils literal"><span class="pre">Vector</span></code> has a constructor:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="rpy2.robjects.Vector">
<em class="property">class </em><code class="descclassname">rpy2.robjects.</code><code class="descname">Vector</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.Vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="robjects_robjects.html#rpy2.robjects.robject.RObjectMixin" title="rpy2.robjects.robject.RObjectMixin"><code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.robject.RObjectMixin</span></code></a>, <a class="reference internal" href="rinterface.html#rpy2.rinterface.SexpVector" title="rpy2.rinterface.SexpVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.rinterface.SexpVector</span></code></a></p>
<p>Vector(seq) -&gt; Vector.</p>
<p>The parameter ‘seq’ can be an instance inheriting from
rinterface.SexpVector, or an arbitrary Python object.
In the later case, a conversion will be attempted using
conversion.py2ri().</p>
<p>R vector-like object. Items can be accessed with:</p>
<ul class="simple">
<li>the method “__getitem__” (“[” operator)</li>
<li>the delegators rx or rx2</li>
</ul>
<dl class="method">
<dt id="rpy2.robjects.Vector.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Vector.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.Vector.items" title="Permalink to this definition">¶</a></dt>
<dd><p>iterator on names and values</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.Vector.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><em>n</em>, <em>replace=False</em>, <em>probabilities=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Vector.sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.Vector.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a sample of size n from the vector. 
If ‘replace’ is True, the sampling is done with replacement.
The optional argument ‘probabilities’ can indicate sampling probabilities.</p>
</dd></dl>

</dd></dl>

<div class="section" id="creating-vectors">
<h2>Creating vectors<a class="headerlink" href="#creating-vectors" title="Permalink to this headline">¶</a></h2>
<p>Creating vectors can be achieved either from R or from Python.</p>
<p>When the vectors are created from R, one should not worry much
as they will be exposed as they should by <a class="reference internal" href="robjects.html#module-rpy2.robjects" title="rpy2.robjects: High-level interface with R (Unix, Windows)"><code class="xref py py-mod docutils literal"><span class="pre">rpy2.robjects</span></code></a>.</p>
<p>When one wants to create a vector from Python, either the
class <code class="xref py py-class docutils literal"><span class="pre">Vector</span></code> or the convenience classes
<code class="xref py py-class docutils literal"><span class="pre">IntVector</span></code>, <code class="xref py py-class docutils literal"><span class="pre">FloatVector</span></code>, <code class="xref py py-class docutils literal"><span class="pre">BoolVector</span></code>,
<code class="xref py py-class docutils literal"><span class="pre">StrVector</span></code> can be used.</p>
<dl class="class">
<dt id="rpy2.robjects.vectors.BoolVector">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">BoolVector</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#BoolVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.BoolVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Vector</span></code>, <a class="reference internal" href="rinterface.html#rpy2.rinterface.BoolSexpVector" title="rpy2.rinterface.BoolSexpVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.rinterface.BoolSexpVector</span></code></a></p>
<p>Vector of boolean (logical) elements 
BoolVector(seq) -&gt; BoolVector.</p>
<p>The parameter ‘seq’ can be an instance inheriting from
rinterface.SexpVector, or an arbitrary Python sequence.
In the later case, all elements in the sequence should be either
booleans, or have a bool() representation.</p>
</dd></dl>

<dl class="class">
<dt id="rpy2.robjects.vectors.IntVector">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">IntVector</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#IntVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.IntVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Vector</span></code>, <a class="reference internal" href="rinterface.html#rpy2.rinterface.IntSexpVector" title="rpy2.rinterface.IntSexpVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.rinterface.IntSexpVector</span></code></a></p>
<p>Vector of integer elements 
IntVector(seq) -&gt; IntVector.</p>
<p>The parameter ‘seq’ can be an instance inheriting from
rinterface.SexpVector, or an arbitrary Python sequence.
In the later case, all elements in the sequence should be either
integers, or have an int() representation.</p>
<dl class="method">
<dt id="rpy2.robjects.vectors.IntVector.tabulate">
<code class="descname">tabulate</code><span class="sig-paren">(</span><em>nbins=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#IntVector.tabulate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.IntVector.tabulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Like the R function tabulate,
count the number of times integer values are found</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpy2.robjects.vectors.FloatVector">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">FloatVector</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#FloatVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.FloatVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Vector</span></code>, <a class="reference internal" href="rinterface.html#rpy2.rinterface.FloatSexpVector" title="rpy2.rinterface.FloatSexpVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.rinterface.FloatSexpVector</span></code></a></p>
<p>Vector of float (double) elements</p>
<p>FloatVector(seq) -&gt; FloatVector.</p>
<p>The parameter ‘seq’ can be an instance inheriting from
rinterface.SexpVector, or an arbitrary Python sequence.
In the later case, all elements in the sequence should be either
float, or have a float() representation.</p>
</dd></dl>

<dl class="class">
<dt id="rpy2.robjects.vectors.StrVector">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">StrVector</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#StrVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.StrVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Vector</span></code>, <a class="reference internal" href="rinterface.html#rpy2.rinterface.StrSexpVector" title="rpy2.rinterface.StrSexpVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.rinterface.StrSexpVector</span></code></a></p>
<p>Vector of string elements</p>
<p>StrVector(seq) -&gt; StrVector.</p>
<p>The parameter ‘seq’ can be an instance inheriting from
rinterface.SexpVector, or an arbitrary Python sequence.
In the later case, all elements in the sequence should be either
strings, or have a str() representation.</p>
<dl class="method">
<dt id="rpy2.robjects.vectors.StrVector.factor">
<code class="descname">factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; FactorVector<a class="reference internal" href="_modules/rpy2/robjects/vectors.html#StrVector.factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.StrVector.factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a factor vector from a vector of strings.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpy2.robjects.vectors.ListVector">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">ListVector</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#ListVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.ListVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Vector</span></code>, <code class="xref py py-class docutils literal"><span class="pre">rpy2.rinterface.ListSexpVector</span></code></p>
<p>R list (vector of arbitray elements)</p>
<p>ListVector(itemable) -&gt; ListVector.</p>
<p>The parameter ‘itemable’ can be:</p>
<ul class="simple">
<li>an object with a method <cite>items()</cite>, such for example a dict,
a rpy2.rlike.container.TaggedList, 
an rpy2.rinterface.SexpVector of type VECSXP.</li>
<li>an iterable of (name, value) tuples</li>
</ul>
<dl class="staticmethod">
<dt id="rpy2.robjects.vectors.ListVector.from_length">
<em class="property">static </em><code class="descname">from_length</code><span class="sig-paren">(</span><em>length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#ListVector.from_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.ListVector.from_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a list of given length</p>
</dd></dl>

</dd></dl>

<p>Sequences of date or time points can be stored in
<code class="xref py py-class docutils literal"><span class="pre">POSIXlt</span></code> or <code class="xref py py-class docutils literal"><span class="pre">POSIXct</span></code> objects. Both can be created
from Python sequences of <a class="reference external" href="https://docs.python.org/3/library/time.html#time.struct_time" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">time.struct_time</span></code></a> objects or
from R objects.</p>
<dl class="class">
<dt id="rpy2.robjects.vectors.POSIXlt">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">POSIXlt</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#POSIXlt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.POSIXlt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.POSIXt</span></code>, <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Vector</span></code></p>
<p>Representation of dates with a 9-component structure
(similar to Python’s time.struct_time).</p>
<p>POSIXlt(seq) -&gt; POSIXlt.</p>
<p>The constructor accepts either an R vector
or a sequence (an object with the Python
sequence interface) of time.struct_time objects.</p>
</dd></dl>

<dl class="class">
<dt id="rpy2.robjects.vectors.POSIXct">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">POSIXct</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#POSIXct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.POSIXct" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.POSIXt</span></code>, <a class="reference internal" href="#rpy2.robjects.vectors.FloatVector" title="rpy2.robjects.vectors.FloatVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.FloatVector</span></code></a></p>
<p>Representation of dates as seconds since Epoch.
This form is preferred to POSIXlt for inclusion in a DataFrame.</p>
<p>POSIXlt(seq) -&gt; POSIXlt.</p>
<p>The constructor accepts either an R vector floats
or a sequence (an object with the Python
sequence interface) of time.struct_time objects.</p>
<dl class="staticmethod">
<dt id="rpy2.robjects.vectors.POSIXct.sexp_from_datetime">
<em class="property">static </em><code class="descname">sexp_from_datetime</code><span class="sig-paren">(</span><em>seq</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#POSIXct.sexp_from_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.POSIXct.sexp_from_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>return a POSIXct vector from a sequence of
datetime.datetime elements.</p>
</dd></dl>

</dd></dl>

<div class="versionadded">
<p><span class="versionmodified">New in version 2.2.0: </span>Vectors for date or time points</p>
</div>
<div class="section" id="factorvector">
<h3>FactorVector<a class="headerlink" href="#factorvector" title="Permalink to this headline">¶</a></h3>
<p>R’s factors are somewhat peculiar: they aim at representing
a memory-efficient vector of labels, and in order to achieve it
are implemented as vectors of integers to which are associated a (presumably
shorter) vector of labels. Each integer represents the position
of the label in the associated vector of labels.</p>
<p>For example, the following vector of labels</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>a</td>
<td>b</td>
<td>a</td>
<td>b</td>
<td>b</td>
<td>c</td>
</tr>
</tbody>
</table>
<p>will become</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>and</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>a</td>
<td>b</td>
<td>c</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sv</span> <span class="o">=</span> <span class="n">ro</span><span class="o">.</span><span class="n">StrVector</span><span class="p">(</span><span class="s1">&#39;ababbc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fac</span> <span class="o">=</span> <span class="n">ro</span><span class="o">.</span><span class="n">FactorVector</span><span class="p">(</span><span class="n">sv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fac</span><span class="p">)</span>
<span class="go">[1] a b a b b c</span>
<span class="go">Levels: a b c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">tuple</span><span class="p">(</span><span class="n">fac</span><span class="p">)</span>
<span class="go">(1, 2, 1, 2, 2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">tuple</span><span class="p">(</span><span class="n">fac</span><span class="o">.</span><span class="n">levels</span><span class="p">)</span>
<span class="go">(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)</span>
</pre></div>
</div>
<p>Since a <code class="xref py py-class docutils literal"><span class="pre">FactorVector</span></code> is an <code class="xref py py-class docutils literal"><span class="pre">IntVector</span></code> with attached
metadata (the levels), getting items Python-style was not changed from
what happens when gettings items from a <code class="xref py py-class docutils literal"><span class="pre">IntVector</span></code>.
A consequence to that is that information about the
levels is then lost.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item_i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fac</span><span class="p">[</span><span class="n">item_i</span><span class="p">]</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Getting the level corresponding to an item requires using the <code class="xref py py-attr docutils literal"><span class="pre">levels</span></code>,:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fac</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="n">fac</span><span class="p">[</span><span class="n">item_i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;a&#39;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not forget to subtract one to the value in the <code class="xref py py-class docutils literal"><span class="pre">FactorVector</span></code>.
Indexing in Python starts at zero while indexing R starts at one,
and recovering the level for an item requires an adjustment between the two.</p>
</div>
<p>When extracting elements from a <code class="xref py py-class docutils literal"><span class="pre">FactorVector</span></code> a sensible default
might be to use R-style extracting (see <a class="reference internal" href="#robjects-extracting"><span class="std std-ref">Extracting items</span></a>),
as it preserves the integer/string duality.</p>
<dl class="class">
<dt id="rpy2.robjects.vectors.FactorVector">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">FactorVector</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#FactorVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.FactorVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rpy2.robjects.vectors.IntVector" title="rpy2.robjects.vectors.IntVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.IntVector</span></code></a></p>
<p>Vector of ‘factors’</p>
<dl class="docutils">
<dt>FactorVector(obj,</dt>
<dd>levels = rinterface.MissingArg,
labels = rinterface.MissingArg,
exclude = rinterface.MissingArg,
ordered = rinterface.MissingArg) -&gt; FactorVector</dd>
</dl>
<p>obj: StrVector or StrSexpVector
levels: StrVector or StrSexpVector
labels: StrVector or StrSexpVector (of same length as levels)
exclude: StrVector or StrSexpVector
ordered: boolean</p>
<dl class="attribute">
<dt id="rpy2.robjects.vectors.FactorVector.isordered">
<code class="descname">isordered</code><a class="headerlink" href="#rpy2.robjects.vectors.FactorVector.isordered" title="Permalink to this definition">¶</a></dt>
<dd><p>are the levels in the factor ordered ?</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.FactorVector.iter_labels">
<code class="descname">iter_labels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#FactorVector.iter_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.FactorVector.iter_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate the over the labels, that is iterate over
the items returning associated label for each item</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.FactorVector.nlevels">
<code class="descname">nlevels</code><a class="headerlink" href="#rpy2.robjects.vectors.FactorVector.nlevels" title="Permalink to this definition">¶</a></dt>
<dd><p>number of levels</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="extracting-items">
<span id="robjects-extracting"></span><span id="index-0"></span><h2>Extracting items<a class="headerlink" href="#extracting-items" title="Permalink to this headline">¶</a></h2>
<p>Extracting elements of sequence/vector can become a thorny issue
as Python and R differ on a number of points
(index numbers starting at zero / starting at one,
negative index number meaning <em>index from the end</em> / <em>everything except</em>,
names cannot / can be used for subsettting).</p>
<p>In order to solve this, the Python way and the R way were
made available through two different routes.</p>
<div class="section" id="extracting-python-style">
<h3>Extracting, Python-style<a class="headerlink" href="#extracting-python-style" title="Permalink to this headline">¶</a></h3>
<p>The python <code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code> method behaves like a Python user would expect
it for a vector (and indexing starts at zero).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(1, 2, 3, 4, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">StrVector</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">a b c d e</span>
<span class="go">1 2 3 4 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">5</span>
</pre></div>
</div>
</div>
<div class="section" id="extracting-r-style">
<h3>Extracting, R-style<a class="headerlink" href="#extracting-r-style" title="Permalink to this headline">¶</a></h3>
<p>Access to R-style extracting/subsetting is granted though the two
delegators <em>rx</em> and <em>rx2</em>, representing the R functions <cite>[</cite> and <cite>[[</cite>
respectively (See the note below about <cite>[[</cite>, and <cite>$</cite>).</p>
<p>In short, R-style extracting has the following characteristics:</p>
<ul class="simple">
<li>indexing starts at one (while Python indexing starts at zero).</li>
<li>the argument to subset on can be a vector of<ul>
<li>integers (negative integers meaning exlusion of the elements)</li>
<li>booleans</li>
<li>strings (whenever the vector has <em>names</em> for its elements)</li>
</ul>
</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[1] 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="go">a</span>
<span class="go">1</span>
</pre></div>
</div>
<p>R can extract several elements at once:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="go">[1] 1 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">BoolVector</span><span class="p">((</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="go">[1] 2 4 5</span>
</pre></div>
</div>
<p>When a boolean extract vector is of smaller length than the vector,
is expanded as necessary (this is know in R as the <cite>recycling rule</cite>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>
<span class="go">1:5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">BoolVector</span><span class="p">((</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="go">[1] 2 4</span>
</pre></div>
</div>
<p>In R, negative indices are understood as element exclusion.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">2:5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="go">[1] 2 4 5</span>
</pre></div>
</div>
<p>That last example could also be written:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="o">-</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">ro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="go">[1] 2 4 5</span>
</pre></div>
</div>
<p>This extraction system is quite expressive, as it allows a very simple writting of
very common tasks in data analysis such as reordering and random sampling.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rpy2.robjects.packages</span> <span class="k">import</span> <span class="n">importr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="n">importr</span><span class="p">(</span><span class="s1">&#39;base&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o_i</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">o_i</span><span class="p">))</span>
<span class="go">[1] 1 2 3 4 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rnd_i</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x_resampled</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">o_i</span><span class="p">)</span>
</pre></div>
</div>
<p>R operators are vector operations, with the operator applied
to each element in the vector. This can be used to build extraction
indexes.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">ro</span> <span class="o">&gt;</span> <span class="mi">3</span> <span class="c1"># extract values &gt; 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">ro</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="p">)</span><span class="o">.</span><span class="n">ro</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">ro</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">)</span> <span class="c1"># extract values between 2 and 4</span>
</pre></div>
</div>
<p>(More on R operators in Section  <a class="reference internal" href="#robjects-operationsdelegator"><span class="std std-ref">Operators</span></a>).</p>
<p>R/S also have particularities, in which some see consistency issues.
For example although the indexing starts at 1, indexing on 0
does not return an <em>index out of bounds</em> error but a vector
of length 0:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">integer(0)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>What about the R operator <cite>$</cite> ? In R, elements of a list can be
extracted with <cite>[</cite>, or if only one element is wanted <cite>[[</cite> or <cite>$</cite>
(with <cite>[[</cite> able to extract on index, that is position in the list,
or on name while <cite>$</cite> can only extract on name).</p>
<p>In R, the 3 ways to extract one element out of a list are:</p>
<div class="highlight-r"><div class="highlight"><pre><span></span><span class="o">&gt;</span> l <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>a <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> b <span class="o">=</span> <span class="m">4</span><span class="o">:</span><span class="m">6</span><span class="p">)</span>
<span class="o">&gt;</span> l<span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
<span class="o">&gt;</span> l<span class="p">[[</span><span class="s">&quot;a&quot;</span><span class="p">]]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
<span class="o">&gt;</span> l<span class="o">$</span>a
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
</pre></div>
</div>
<p>With rpy2, it is looking like:</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elt</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">rx2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># This is the R `[[`, so one-offset indexing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elt</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">rx2</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="assigning-items">
<h2>Assigning items<a class="headerlink" href="#assigning-items" title="Permalink to this headline">¶</a></h2>
<div class="section" id="assigning-python-style">
<h3>Assigning, Python-style<a class="headerlink" href="#assigning-python-style" title="Permalink to this headline">¶</a></h3>
<p>Since vectors are exposed as Python mutable sequences, the assignment works
as for regular Python lists.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[1] 1 2 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[1] 9 2 3</span>
</pre></div>
</div>
<p>In R vectors can be <em>named</em>, that is elements of the vector have a name.
This is notably the case for R lists. Assigning based on names can be made
easily by using the method <code class="xref py py-meth docutils literal"><span class="pre">Vector.index()</span></code>, as shown below.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">ListVector</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">9</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">Vector.index()</span></code> has a complexity linear in the length of the vector’s length;
this should be remembered if performance issues are met.</p>
</div>
</div>
<div class="section" id="assigning-r-style">
<h3>Assigning, R-style<a class="headerlink" href="#assigning-r-style" title="Permalink to this headline">¶</a></h3>
<p>Differences between the two languages require few adaptations, and in
appearance complexify a little the task.
Should other Python-based systems for the representation of (mostly numerical)
data structure, such a <code class="xref py py-mod docutils literal"><span class="pre">numpy</span></code> be preferred, one will be encouraged to expose
our rpy2 R objects through those structures.</p>
<p>The attributes <cite>rx</cite> and <cite>rx2</cite> used previously can again be used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[1] 1 2 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">rx</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[1] 9 2 3</span>
</pre></div>
</div>
<p>For the sake of complete compatibility with R, arguments can be named
(and passed as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> or <a class="reference internal" href="rlike.html#rpy2.rlike.container.TaggedList" title="rpy2.rlike.container.TaggedList"><code class="xref py py-class docutils literal"><span class="pre">rpy2.rlike.container.TaggedList</span></code></a>).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">ListVector</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">rx2</span><span class="p">[{</span><span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)}]</span> <span class="o">=</span> <span class="mi">9</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="missing-values">
<span id="robjects-missingvalues"></span><h2>Missing values<a class="headerlink" href="#missing-values" title="Permalink to this headline">¶</a></h2>
<p>Anyone with experience in the analysis of real data knows that
some of the data might be missing. In S/Splus/R special <em>NA</em> values can be used
in a data vector to indicate that fact, and <a class="reference internal" href="robjects.html#module-rpy2.robjects" title="rpy2.robjects: High-level interface with R (Unix, Windows)"><code class="xref py py-mod docutils literal"><span class="pre">rpy2.robjects</span></code></a> makes aliases for
those available as data objects <code class="xref py py-data docutils literal"><span class="pre">NA_Logical</span></code>, <code class="xref py py-data docutils literal"><span class="pre">NA_Real</span></code>,
<code class="xref py py-data docutils literal"><span class="pre">NA_Integer</span></code>, <code class="xref py py-data docutils literal"><span class="pre">NA_Character</span></code>, <code class="xref py py-data docutils literal"><span class="pre">NA_Complex</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">NA_Integer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[1] NA  1  2</span>
</pre></div>
</div>
<p>The translation of NA types is done at the item level, returning a pointer to
the corresponding NA singleton class.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">robjects</span><span class="o">.</span><span class="n">NA_Integer</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">robjects</span><span class="o">.</span><span class="n">NA_Integer</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">robjects</span><span class="o">.</span><span class="n">NA_Integer</span><span class="p">]</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="xref py py-data docutils literal"><span class="pre">NA_Logical</span></code> is the alias for R’s <em>NA</em>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The NA objects are imported from the corresponding
<a class="reference internal" href="rinterface.html#module-rpy2.rinterface" title="rpy2.rinterface: Low-level interface with R (Unix, Windows)"><code class="xref py py-mod docutils literal"><span class="pre">rpy2.rinterface</span></code></a> objects.</p>
</div>
</div>
<div class="section" id="operators">
<span id="robjects-operationsdelegator"></span><h2>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h2>
<p>Mathematical operations on two vectors: the following operations
are performed element-wise in R, recycling the shortest vector if, and
as much as, necessary.</p>
<p>To expose that to Python, a delegating attribute <code class="xref py py-attr docutils literal"><span class="pre">ro</span></code> is provided
for vector-like objects.</p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Python</th>
<th class="head">R</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">+</span></code></td>
<td><code class="docutils literal"><span class="pre">+</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">-</span></code></td>
<td><code class="docutils literal"><span class="pre">-</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">*</span></code></td>
<td><code class="docutils literal"><span class="pre">*</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">/</span></code></td>
<td><code class="docutils literal"><span class="pre">/</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">**</span></code></td>
<td><code class="docutils literal"><span class="pre">**</span></code> or <code class="docutils literal"><span class="pre">^</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">or</span></code></td>
<td><code class="docutils literal"><span class="pre">|</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">and</span></code></td>
<td><code class="docutils literal"><span class="pre">&amp;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;</span></code></td>
<td><code class="docutils literal"><span class="pre">&lt;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;=</span></code></td>
<td><code class="docutils literal"><span class="pre">&lt;=</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">==</span></code></td>
<td><code class="docutils literal"><span class="pre">==</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">!=</span></code></td>
<td><code class="docutils literal"><span class="pre">!=</span></code></td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">ro</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2:11</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In Python, using the operator <code class="docutils literal"><span class="pre">+</span></code> on two sequences
concatenates them and this behavior has been conserved:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[1]  1  2  3  4  5  6  7  8  9 10  1</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The boolean operator <code class="docutils literal"><span class="pre">not</span></code> cannot be redefined in Python (at least up to
version 2.5), and its behavior could not be made to mimic R’s behavior</p>
</div>
</div>
<div class="section" id="names">
<span id="index-1"></span><h2>Names<a class="headerlink" href="#names" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">R</span></code> vectors can have a name given to all or some of the elements.
The property <code class="xref py py-attr docutils literal"><span class="pre">names</span></code> can be used to get, or set, those names.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">StrVector</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;z&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
<span class="go">(&#39;z&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="array">
<span id="index-2"></span><h2><code class="xref py py-class docutils literal"><span class="pre">Array</span></code><a class="headerlink" href="#array" title="Permalink to this headline">¶</a></h2>
<p>In <cite>R</cite>, arrays are simply vectors with a dimension attribute. That fact
was reflected in the class hierarchy with <code class="xref py py-class docutils literal"><span class="pre">robjects.Array</span></code> inheriting
from <code class="xref py py-class docutils literal"><span class="pre">robjects.Vector</span></code>.</p>
<dl class="class">
<dt id="rpy2.robjects.vectors.Array">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">Array</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Array" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Vector</span></code></p>
<p>An R array</p>
<dl class="attribute">
<dt id="rpy2.robjects.vectors.Array.dimnames">
<code class="descname">dimnames</code><a class="headerlink" href="#rpy2.robjects.vectors.Array.dimnames" title="Permalink to this definition">¶</a></dt>
<dd><p>names associated with the dimension.</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.Array.names">
<code class="descname">names</code><a class="headerlink" href="#rpy2.robjects.vectors.Array.names" title="Permalink to this definition">¶</a></dt>
<dd><p>names associated with the dimension.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="matrix">
<h2><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code><a class="headerlink" href="#matrix" title="Permalink to this headline">¶</a></h2>
<p>A <code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code> is a special case of <code class="xref py py-class docutils literal"><span class="pre">Array</span></code>. As with arrays,
one must remember that this is just a vector with dimension attributes
(number of rows, number of columns).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span> <span class="n">nrow</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">     [,1] [,2]</span>
<span class="go">[1,]    0    5</span>
<span class="go">[2,]    1    6</span>
<span class="go">[3,]    2    7</span>
<span class="go">[4,]    3    8</span>
<span class="go">[5,]    4    9</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In <em>R</em>, matrices are column-major ordered, although the constructor
<code class="xref py py-func docutils literal"><span class="pre">matrix()</span></code> accepts a boolean argument <em>byrow</em> that, when true,
will build the matrix <em>as if</em> row-major ordered.</p>
</div>
<div class="section" id="computing-on-matrices">
<h3>Computing on matrices<a class="headerlink" href="#computing-on-matrices" title="Permalink to this headline">¶</a></h3>
<p>Regular operators work element-wise on the underlying vector.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)),</span> <span class="n">nrow</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">ro</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">     [,1] [,2]</span>
<span class="go">[1,]    1    3</span>
<span class="go">[2,]    2    4</span>
</pre></div>
</div>
<p>For more on operators, see <a class="reference internal" href="#robjects-operationsdelegator"><span class="std std-ref">Operators</span></a>.</p>
<p>Matrix multiplication is available as <code class="xref py py-meth docutils literal"><span class="pre">Matrix.dot()</span></code>,
transposition as <code class="xref py py-meth docutils literal"><span class="pre">Matrix.transpose()</span></code>. Common
operations such as cross-product, eigen values computation
, and singular value decomposition are also available through
method with explicit names.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">crossprod</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="p">)</span>
<span class="go">     [,1] [,2]</span>
<span class="go">[1,]    1    3</span>
<span class="go">[2,]    3   13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span> <span class="n">m</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="p">)</span>
<span class="go">     [,1] [,2]</span>
<span class="go">[1,]    1    3</span>
<span class="go">[2,]    3   13</span>
</pre></div>
</div>
<dl class="class">
<dt id="rpy2.robjects.vectors.Matrix">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">Matrix</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rpy2.robjects.vectors.Array" title="rpy2.robjects.vectors.Array"><code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.Array</span></code></a></p>
<p>An R matrix</p>
<dl class="attribute">
<dt id="rpy2.robjects.vectors.Matrix.colnames">
<code class="descname">colnames</code><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.colnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Column names</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.Matrix.crossprod">
<code class="descname">crossprod</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Matrix.crossprod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.crossprod" title="Permalink to this definition">¶</a></dt>
<dd><p>crossproduct X’.Y</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.Matrix.dot">
<code class="descname">dot</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Matrix.dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix multiplication</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.Matrix.eigen">
<code class="descname">eigen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Matrix.eigen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.eigen" title="Permalink to this definition">¶</a></dt>
<dd><p>Eigen values</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.Matrix.ncol">
<code class="descname">ncol</code><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.ncol" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of columns</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.Matrix.nrow">
<code class="descname">nrow</code><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.nrow" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of rows</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.Matrix.rownames">
<code class="descname">rownames</code><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.rownames" title="Permalink to this definition">¶</a></dt>
<dd><p>Row names</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.Matrix.svd">
<code class="descname">svd</code><span class="sig-paren">(</span><em>nu=None</em>, <em>nv=None</em>, <em>linpack=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Matrix.svd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.svd" title="Permalink to this definition">¶</a></dt>
<dd><p>SVD decomposition.
If nu is None, it is given the default value min(tuple(self.dim)).
If nv is None, it is given the default value min(tuple(self.dim)).</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.Matrix.tcrossprod">
<code class="descname">tcrossprod</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Matrix.tcrossprod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.tcrossprod" title="Permalink to this definition">¶</a></dt>
<dd><p>crossproduct X.Y’</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.Matrix.transpose">
<code class="descname">transpose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#Matrix.transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.Matrix.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>transpose the matrix</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="extracting">
<h3>Extracting<a class="headerlink" href="#extracting" title="Permalink to this headline">¶</a></h3>
<p>Extracting can still be performed Python-style or
R-style.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ro</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">ro</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">)),</span> <span class="n">nrow</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">     [,1] [,2]</span>
<span class="go">[1,]    2    5</span>
<span class="go">[2,]    3    6</span>
<span class="go">[3,]    4    7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[1] 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">[1] 7</span>
</pre></div>
</div>
<p>Matrixes are two-dimensional arrays, and elements can
be extracted according to two indexes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">[1] 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[1] 7</span>
</pre></div>
</div>
<p>Extracting a whole row, or column can be achieved by replacing an index number
by <cite>True</cite> or <cite>False</cite></p>
<p>Extract the first column:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>Extract the second row:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dataframe">
<span id="robjects-dataframes"></span><h2><code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code><a class="headerlink" href="#dataframe" title="Permalink to this headline">¶</a></h2>
<p>Data frames are a common way in R to
represent the data to analyze.</p>
<p>A data frame can be thought of as a tabular representation of data,
with one variable per column, and one data point per row. Each column
is an R vector, which implies one type for all elements
in one given column, and which allows for possibly different types across
different columns.</p>
<p>If we consider for example tre data about pharmacokinetics of theophylline in
different subjects, the data table could look like this:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="24%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Subject</th>
<th class="head">Weight</th>
<th class="head">Dose</th>
<th class="head">Time</th>
<th class="head">conc</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>79.6</td>
<td>4.02</td>
<td>0.00</td>
<td>0.74</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>79.6</td>
<td>4.02</td>
<td>0.25</td>
<td>2.84</td>
</tr>
<tr class="row-even"><td>1</td>
<td>79.6</td>
<td>4.02</td>
<td>0.57</td>
<td>6.57</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>72.4</td>
<td>4.40</td>
<td>7.03</td>
<td>5.40</td>
</tr>
<tr class="row-even"><td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>Such data representation shares similarities with a table in
a relational database: the structure between the variables, or columns,
is given by other column. In the example above, the grouping of
measures by subject is given by the column <em>Subject</em>.</p>
<p>In <a class="reference internal" href="robjects.html#module-rpy2.robjects" title="rpy2.robjects: High-level interface with R (Unix, Windows)"><code class="xref py py-mod docutils literal"><span class="pre">rpy2.robjects</span></code></a>,
<code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> represents the <cite>R</cite> class <cite>data.frame</cite>.</p>
<div class="section" id="creating-objects">
<h3>Creating objects<a class="headerlink" href="#creating-objects" title="Permalink to this headline">¶</a></h3>
<p>Creating a <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> can be done by:</p>
<ul class="simple">
<li>Using the constructor for the class</li>
<li>Create the data.frame through R</li>
<li>Read data from a file using the instance method <code class="xref py py-meth docutils literal"><span class="pre">from_csvfile()</span></code></li>
</ul>
<p>The <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> constructor accepts either an
<code class="xref py py-class docutils literal"><span class="pre">rinterface.SexpVector</span></code>
(with <code class="xref py py-attr docutils literal"><span class="pre">typeof</span></code> equal to <em>VECSXP</em>, that is, an R <cite>list</cite>)
or any Python object implementing the method <code class="xref py py-meth docutils literal"><span class="pre">items()</span></code>
(for example <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a> or <a class="reference internal" href="rlike.html#rpy2.rlike.container.OrdDict" title="rpy2.rlike.container.OrdDict"><code class="xref py py-class docutils literal"><span class="pre">rpy2.rlike.container.OrdDict</span></code></a>).</p>
<p>Empty <cite>data.frame</cite>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({})</span>
</pre></div>
</div>
<p><cite>data.frame</cite> with 2 two columns (not that the order of
the columns in the resulting <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> can be different
from the order in which they are declared):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)),</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">))}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span> <span class="o">=</span> <span class="n">robject</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<p>To create a <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> and be certain of the clumn order order,
an ordered dictionary can be used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">rpy2.rlike.container</span> <span class="k">as</span> <span class="nn">rlc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">od</span> <span class="o">=</span> <span class="n">rlc</span><span class="o">.</span><span class="n">OrdDict</span><span class="p">([(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))),</span>
<span class="go">                      (&#39;letter&#39;, robjects.StrVector((&#39;x&#39;, &#39;y&#39;, &#39;z&#39;)))])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span> <span class="o">=</span> <span class="n">robjects</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">od</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dataf</span><span class="o">.</span><span class="n">colnames</span><span class="p">)</span>
<span class="go">[1] &quot;letter&quot; &quot;value&quot;</span>
</pre></div>
</div>
<p>Creating the data.frame in R can otherwise be achieved in numerous ways,
as many R functions do return a <cite>data.frame</cite>, such as the
function <cite>data.frame()</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When creating a <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code>, vectors of strings are automatically
converted by R into instances of class <code class="xref py py-class docutils literal"><span class="pre">Factor</span></code>. This behavior
can be prevented by wrapping the call into the R base function I.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rpy2.robjects.vectors</span> <span class="kn">import</span> <span class="n">DataFrame</span><span class="p">,</span> <span class="n">StrVector</span>
<span class="kn">from</span> <span class="nn">rpy2.robjects.packages</span> <span class="kn">import</span> <span class="n">importr</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">importr</span><span class="p">(</span><span class="s1">&#39;base&#39;</span><span class="p">)</span>
<span class="n">dataf</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;string&#39;</span><span class="p">:</span> <span class="n">base</span><span class="o">.</span><span class="n">I</span><span class="p">(</span><span class="n">StrVector</span><span class="p">(</span><span class="s1">&#39;abbab&#39;</span><span class="p">)),</span>
                   <span class="s1">&#39;factor&#39;</span><span class="p">:</span> <span class="n">StrVector</span><span class="p">(</span><span class="s1">&#39;abbab&#39;</span><span class="p">)})</span>
</pre></div>
</div>
<p>Here the <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> <cite>dataf</cite> now has two columns, one as
a <code class="xref py py-class docutils literal"><span class="pre">Factor</span></code>, the other one as a <code class="xref py py-class docutils literal"><span class="pre">StrVector</span></code></p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span><span class="o">.</span><span class="n">rx2</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>
<span class="go">&lt;StrVector - Python:0x95fe5ec / R:0x9646ea0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span><span class="o">.</span><span class="n">rx2</span><span class="p">(</span><span class="s1">&#39;factor&#39;</span><span class="p">)</span>
<span class="go">&lt;FactorVector - Python:0x95fe86c / R:0x9028138&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="extracting-elements">
<h3>Extracting elements<a class="headerlink" href="#extracting-elements" title="Permalink to this headline">¶</a></h3>
<p>Here again, Python’s <code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code> will work
as a Python programmer will expect it to:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">dataf</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&lt;Vector - Python:0x8a58c2c / R:0x8e7dd08&gt;</span>
</pre></div>
</div>
<p>The <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> is composed of columns,
with each column being possibly of a different type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">column</span><span class="o">.</span><span class="n">rclass</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">dataf</span><span class="p">]</span>
<span class="go">[&#39;factor&#39;, &#39;integer&#39;]</span>
</pre></div>
</div>
<p>Using R-style access to elements is a little richer,
with the <em>rx2</em> accessor taking more importance than earlier.</p>
<p>Like with Python’s <code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code> above,
extracting on one index selects columns:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&lt;DataFrame - Python:0x8a584ac / R:0x95a6fb8&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dataf</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">  letter</span>
<span class="go">1      x</span>
<span class="go">2      y</span>
<span class="go">3      z</span>
</pre></div>
</div>
<p>Note that the result is itself
of class <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code>. To get the column as
a vector, use <em>rx2</em>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataf</span><span class="o">.</span><span class="n">rx2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&lt;Vector - Python:0x8a4bfcc / R:0x8e7dd08&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dataf</span><span class="o">.</span><span class="n">rx2</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[1] x y z</span>
<span class="go">Levels: x y z</span>
</pre></div>
</div>
<p>Since data frames are table-like structure, they
can be thought of as two-dimensional arrays and
can therefore be extracted on two indices.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subdataf</span> <span class="o">=</span> <span class="n">dataf</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">subdataf</span><span class="p">)</span>
<span class="go">  letter value</span>
<span class="go">1      x     1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rows_i</span> <span class="o">&lt;-</span> <span class="n">robjects</span><span class="o">.</span><span class="n">IntVector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subdataf</span> <span class="o">=</span> <span class="n">dataf</span><span class="o">.</span><span class="n">rx</span><span class="p">(</span><span class="n">rows_i</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">subdataf</span><span class="p">)</span>
<span class="go">  letter value</span>
<span class="go">1      x     1</span>
<span class="go">3      z     3</span>
</pre></div>
</div>
<p>That last example is extremely common in R. A vector of indices,
here <em>rows_i</em>, is used to take a subset of the <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code>.</p>
</div>
<div class="section" id="python-docstrings">
<h3>Python docstrings<a class="headerlink" href="#python-docstrings" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="rpy2.robjects.vectors.DataFrame">
<em class="property">class </em><code class="descclassname">rpy2.robjects.vectors.</code><code class="descname">DataFrame</code><span class="sig-paren">(</span><em>tlist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#rpy2.robjects.vectors.ListVector" title="rpy2.robjects.vectors.ListVector"><code class="xref py py-class docutils literal"><span class="pre">rpy2.robjects.vectors.ListVector</span></code></a></p>
<p>R ‘data.frame’.</p>
<dl class="method">
<dt id="rpy2.robjects.vectors.DataFrame.cbind">
<code class="descname">cbind</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame.cbind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.cbind" title="Permalink to this definition">¶</a></dt>
<dd><p>bind objects as supplementary columns</p>
</dd></dl>

<dl class="staticmethod">
<dt id="rpy2.robjects.vectors.DataFrame.from_csvfile">
<em class="property">static </em><code class="descname">from_csvfile</code><span class="sig-paren">(</span><em>path</em>, <em>header=True</em>, <em>sep='</em>, <em>'</em>, <em>quote='&quot;'</em>, <em>dec='.'</em>, <em>row_names=rpy2.rinterface.MissingArg</em>, <em>col_names=rpy2.rinterface.MissingArg</em>, <em>fill=True</em>, <em>comment_char=''</em>, <em>na_strings=[]</em>, <em>as_is=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame.from_csvfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.from_csvfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from data in a .csv file.</p>
<p>path         : string with a path 
header       : boolean (heading line with column names or not)
sep          : separator character
quote        : quote character
row_names    : column name, or column index for column names (warning: indexing starts at one in R)
fill         : boolean (fill the lines when less entries than columns)
comment_char : comment character
na_strings   : a list of strings which are interpreted to be NA values
as_is        : boolean (keep the columns of strings as such, or turn them into factors)</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.DataFrame.head">
<code class="descname">head</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame.head"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the R generic ‘head()’.</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.DataFrame.iter_column">
<code class="descname">iter_column</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame.iter_column"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.iter_column" title="Permalink to this definition">¶</a></dt>
<dd><p>iterator across columns</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.DataFrame.iter_row">
<code class="descname">iter_row</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame.iter_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.iter_row" title="Permalink to this definition">¶</a></dt>
<dd><p>iterator across rows</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.DataFrame.ncol">
<code class="descname">ncol</code><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.ncol" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of columns.
:rtype: integer</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.DataFrame.nrow">
<code class="descname">nrow</code><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.nrow" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of rows. 
:rtype: integer</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.DataFrame.rbind">
<code class="descname">rbind</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame.rbind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.rbind" title="Permalink to this definition">¶</a></dt>
<dd><p>bind objects as supplementary rows</p>
</dd></dl>

<dl class="attribute">
<dt id="rpy2.robjects.vectors.DataFrame.rownames">
<code class="descname">rownames</code><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.rownames" title="Permalink to this definition">¶</a></dt>
<dd><p>Row names</p>
</dd></dl>

<dl class="method">
<dt id="rpy2.robjects.vectors.DataFrame.to_csvfile">
<code class="descname">to_csvfile</code><span class="sig-paren">(</span><em>path</em>, <em>quote=True</em>, <em>sep='</em>, <em>'</em>, <em>eol='\n'</em>, <em>na='NA'</em>, <em>dec='.'</em>, <em>row_names=True</em>, <em>col_names=True</em>, <em>qmethod='escape'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rpy2/robjects/vectors.html#DataFrame.to_csvfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpy2.robjects.vectors.DataFrame.to_csvfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the data into a .csv file.</p>
<p>path         : string with a path 
quote        : quote character
sep          : separator character
eol          : end-of-line character(s)
na           : string for missing values
dec          : string for decimal separator
row_names    : boolean (save row names, or not)
col_names    : boolean (save column names, or not)
comment_char : method to ‘escape’ special characters
append       : boolean (append if the file in the path is already existing, or not)</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/rpy2_logo_64x64.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Vectors and arrays</a><ul>
<li><a class="reference internal" href="#creating-vectors">Creating vectors</a><ul>
<li><a class="reference internal" href="#factorvector">FactorVector</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extracting-items">Extracting items</a><ul>
<li><a class="reference internal" href="#extracting-python-style">Extracting, Python-style</a></li>
<li><a class="reference internal" href="#extracting-r-style">Extracting, R-style</a></li>
</ul>
</li>
<li><a class="reference internal" href="#assigning-items">Assigning items</a><ul>
<li><a class="reference internal" href="#assigning-python-style">Assigning, Python-style</a></li>
<li><a class="reference internal" href="#assigning-r-style">Assigning, R-style</a></li>
</ul>
</li>
<li><a class="reference internal" href="#missing-values">Missing values</a></li>
<li><a class="reference internal" href="#operators">Operators</a></li>
<li><a class="reference internal" href="#names">Names</a></li>
<li><a class="reference internal" href="#array"><code class="docutils literal"><span class="pre">Array</span></code></a></li>
<li><a class="reference internal" href="#matrix"><code class="docutils literal"><span class="pre">Matrix</span></code></a><ul>
<li><a class="reference internal" href="#computing-on-matrices">Computing on matrices</a></li>
<li><a class="reference internal" href="#extracting">Extracting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dataframe"><code class="docutils literal"><span class="pre">DataFrame</span></code></a><ul>
<li><a class="reference internal" href="#creating-objects">Creating objects</a></li>
<li><a class="reference internal" href="#extracting-elements">Extracting elements</a></li>
<li><a class="reference internal" href="#python-docstrings">Python docstrings</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="robjects_serialization.html"
                        title="previous chapter">Object serialization</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="rhelp.html"
                        title="next chapter">R help</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/vector.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rhelp.html" title="R help"
             >next</a> |</li>
        <li class="right" >
          <a href="robjects_serialization.html" title="Object serialization"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">rpy2 3.0.0-dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="high-level.html" >High-level interface</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2017, Laurent Gautier &amp; rpy2 contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.6.
    </div>
  </body>
</html>